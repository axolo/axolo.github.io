import{_ as s,c as i,o as a,V as n}from"./chunks/framework.KyB-5az5.js";const g=JSON.parse('{"title":"CentOS 网络","description":"CentOS 7 开始默认使用 network-manager 来配置网络。虽然传统方式依然可以配置，但不推荐。","frontmatter":{"title":"CentOS 网络","description":"CentOS 7 开始默认使用 network-manager 来配置网络。虽然传统方式依然可以配置，但不推荐。","time":"2019-12-25T00:00:00.000Z","category":"运维","tags":["CentOS","Linux"]},"headers":[],"relativePath":"centos-network.md","filePath":"centos-network.md"}'),t={name:"centos-network.md"},e=n(`<h1 id="centos-网络" tabindex="-1">CentOS 网络 <a class="header-anchor" href="#centos-网络" aria-label="Permalink to &quot;CentOS 网络&quot;">​</a></h1><blockquote><p>方跃明 2019-12-25</p></blockquote><p><code>CentOS 7</code>开始默认使用<code>network-manager</code>来配置网络。虽然传统方式依然可以配置，但不推荐。</p><h2 id="nmcli" tabindex="-1">nmcli <a class="header-anchor" href="#nmcli" aria-label="Permalink to &quot;nmcli&quot;">​</a></h2><p>以下为配置无线连接，其他网络管理命令参照帮助。</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 扫描并查看wifi情况</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nmcli</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> d wifi connect password iface</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 获取网卡描述，一般默认wlan0，连接KFC_free，密码12345678</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nmcli</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> d wifi connect &quot;KFC_free&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> password &quot;12345678&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wlan0</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 禁用连接</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nmcli</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev dis wlan0</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 断开连接</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nmcli</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> con del KFC_free</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 获取到当前设备所有连接过多的历史连接及对应UUID号码</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nmcli</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> c</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 删除连接</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nmcli</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> c del </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">72</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ffd5f4-71f8-0001-b434-6122908cfd4e</span></span></code></pre></div><h2 id="dhcp" tabindex="-1">dhcp <a class="header-anchor" href="#dhcp" aria-label="Permalink to &quot;dhcp&quot;">​</a></h2><p>设置网卡为开机自动连接，开启DHCP，然后在路由器上配置MAC和IP绑定，家庭和小型局域网推荐使用。</p><h2 id="ifcfg" tabindex="-1">ifcfg <a class="header-anchor" href="#ifcfg" aria-label="Permalink to &quot;ifcfg&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 默认情况第一张网卡为ifcfg-eth0，不排除被命名成其他名称的可能</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 一般情况下只需要指定IPADDR、NETMASK、GATEWAY和DNS1、DNS2即可</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/sysconfig/network-scripts/ifcfg-eth0</span></span></code></pre></div><div class="language-ini vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">TYPE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=Ethernet</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">BOOTPROTO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=static</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">IPADDR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=192.168.20.25</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">NETMASK</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=255.255.252.0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GATEWAY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=192.168.20.1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DNS1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=8.8.8.8</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DNS2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=8.8.4.4</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">NETWORK</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=192.168.20.0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">BROADCAST</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=192.168.23.255</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DEFROUTE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=yes</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">PEERDNS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=no</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">PEERROUTES</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=yes</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">IPV4_FAILURE_FATAL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=no</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">IPV6INIT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=yes</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">IPV6_AUTOCONF</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=yes</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">IPV6_DEFROUTE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=yes</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">IPV6_PEERDNS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=yes</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">IPV6_PEERROUTES</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=yes</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">IPV6_FAILURE_FATAL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=no</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">NAME</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=eth0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">UUID</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=5b0a7d76-1602-4e19-aee6-29f57618ca01</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ONBOOT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=no</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/resolv.conf       # 配置DNS</span></span></code></pre></div><div class="language-ini vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># /etc/resolv.conf</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">nameserver 114.114.114.114</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">nameserver 8.8.8.8</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">service</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> network restart     # 重启网络服务使其生效</span></span></code></pre></div><table><thead><tr><th>参数</th><th>可选值</th><th>说明</th></tr></thead><tbody><tr><td>DEVICE</td><td>name</td><td>设备名称通常是eth0</td></tr><tr><td>BOOTPROTO</td><td>proto</td><td>proto为none、static、dhcp、bootp，IP分配协议</td></tr><tr><td>IPADDR</td><td>addr</td><td>IP地址</td></tr><tr><td>NETMASK</td><td>mask</td><td>子网掩码</td></tr><tr><td>GATEWAY</td><td>addr</td><td>网关地址</td></tr><tr><td>DNS1</td><td>dns</td><td>DNS1服务器IP</td></tr><tr><td>DNS2</td><td>dns</td><td>DNS2服务器IP</td></tr><tr><td>NETWORK</td><td>addr</td><td>所属网络</td></tr><tr><td>BROADCAST</td><td>addr</td><td>广播地址</td></tr><tr><td>HWADDR</td><td>mac</td><td>MAC地址</td></tr><tr><td>ONBOOT</td><td>answer</td><td>answer为yes或no，是否系统启动时激活连接</td></tr><tr><td>USERCTL</td><td>answer</td><td>answer为yes或no，非root用户是否可以控制该设备</td></tr><tr><td>PEERDNS</td><td>answer</td><td>answer为yes或no，是否重写/etc/resolv.conf</td></tr></tbody></table>`,15),l=[e];function h(p,k,d,r,c,o){return a(),i("div",null,l)}const y=s(t,[["render",h]]);export{g as __pageData,y as default};
