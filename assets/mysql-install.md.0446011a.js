import{_ as s,o as a,c as l,Q as n}from"./chunks/framework.cd6e3458.js";const h=JSON.parse('{"title":"CentOS 安装 MySQL 8","description":"CentOS 下快速安装配置 MySQL 8","frontmatter":{"title":"CentOS 安装 MySQL 8","description":"CentOS 下快速安装配置 MySQL 8","time":"2019-05-11T00:00:00.000Z","category":"数据库","tags":["CentOS","MySQL","Linux"]},"headers":[],"relativePath":"mysql-install.md","filePath":"mysql-install.md"}'),p={name:"mysql-install.md"},o=n(`<h1 id="centos-安装-mysql-8" tabindex="-1">CentOS 安装 MySQL 8 <a class="header-anchor" href="#centos-安装-mysql-8" aria-label="Permalink to &quot;CentOS 安装 MySQL 8&quot;">​</a></h1><blockquote><p>方跃明 2019-05-11</p></blockquote><h2 id="一、安装并登录" tabindex="-1">一、安装并登录 <a class="header-anchor" href="#一、安装并登录" aria-label="Permalink to &quot;一、安装并登录&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 安装官方仓库</span></span>
<span class="line"><span style="color:#B392F0;">yum</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">localinstall</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">https://repo.mysql.com/mysql80-community-release-el7-1.noarch.rpm</span></span>
<span class="line"><span style="color:#6A737D;"># 安装 MySQL Server</span></span>
<span class="line"><span style="color:#B392F0;">yum</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql-community-server</span></span>
<span class="line"><span style="color:#6A737D;"># 启动MySQL</span></span>
<span class="line"><span style="color:#B392F0;">systemctl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">start</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysqld</span></span>
<span class="line"><span style="color:#6A737D;"># 检查服务状态</span></span>
<span class="line"><span style="color:#B392F0;">systemctl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">status</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysqld</span></span>
<span class="line"><span style="color:#6A737D;"># 查看初始密码</span></span>
<span class="line"><span style="color:#B392F0;">grep</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;temporary password&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/var/log/mysqld.log</span></span>
<span class="line"><span style="color:#B392F0;">mysql</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-uroot</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-p</span></span>
<span class="line"><span style="color:#6A737D;"># 输入密码进入mysql命令行</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 安装官方仓库</span></span>
<span class="line"><span style="color:#6F42C1;">yum</span><span style="color:#24292E;"> </span><span style="color:#032F62;">localinstall</span><span style="color:#24292E;"> </span><span style="color:#032F62;">https://repo.mysql.com/mysql80-community-release-el7-1.noarch.rpm</span></span>
<span class="line"><span style="color:#6A737D;"># 安装 MySQL Server</span></span>
<span class="line"><span style="color:#6F42C1;">yum</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql-community-server</span></span>
<span class="line"><span style="color:#6A737D;"># 启动MySQL</span></span>
<span class="line"><span style="color:#6F42C1;">systemctl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">start</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysqld</span></span>
<span class="line"><span style="color:#6A737D;"># 检查服务状态</span></span>
<span class="line"><span style="color:#6F42C1;">systemctl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">status</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysqld</span></span>
<span class="line"><span style="color:#6A737D;"># 查看初始密码</span></span>
<span class="line"><span style="color:#6F42C1;">grep</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;temporary password&#39;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/var/log/mysqld.log</span></span>
<span class="line"><span style="color:#6F42C1;">mysql</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-uroot</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-p</span></span>
<span class="line"><span style="color:#6A737D;"># 输入密码进入mysql命令行</span></span></code></pre></div><h2 id="二、修改密码策略-可选" tabindex="-1">二、修改密码策略（可选） <a class="header-anchor" href="#二、修改密码策略-可选" aria-label="Permalink to &quot;二、修改密码策略（可选）&quot;">​</a></h2><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">set</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">global</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">validate_password</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">policy</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">set</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">global</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">validate_password</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">length</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">set</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">global</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">validate_password</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">policy</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">set</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">global</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">validate_password</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">length</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">4</span><span style="color:#24292E;">;</span></span></code></pre></div><h2 id="三、修改密码" tabindex="-1">三、修改密码 <a class="header-anchor" href="#三、修改密码" aria-label="Permalink to &quot;三、修改密码&quot;">​</a></h2><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">ALTER</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">USER</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;root&#39;</span><span style="color:#E1E4E8;">@</span><span style="color:#9ECBFF;">&#39;localhost&#39;</span><span style="color:#E1E4E8;"> IDENTIFIED </span><span style="color:#F97583;">BY</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;password&#39;</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">ALTER</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">USER</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;root&#39;</span><span style="color:#24292E;">@</span><span style="color:#032F62;">&#39;localhost&#39;</span><span style="color:#24292E;"> IDENTIFIED </span><span style="color:#D73A49;">BY</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;password&#39;</span><span style="color:#24292E;">;</span></span></code></pre></div><h2 id="四、添加用户并授权" tabindex="-1">四、添加用户并授权 <a class="header-anchor" href="#四、添加用户并授权" aria-label="Permalink to &quot;四、添加用户并授权&quot;">​</a></h2><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">USER</span><span style="color:#E1E4E8;"> &#39;</span><span style="color:#B392F0;">newuser</span><span style="color:#E1E4E8;">&#39;@</span><span style="color:#9ECBFF;">&#39;%&#39;</span><span style="color:#E1E4E8;"> IDENTIFIED </span><span style="color:#F97583;">WITH</span><span style="color:#E1E4E8;"> mysql_native_password </span><span style="color:#F97583;">BY</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;password&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#6A737D;">-- mysql_native_password 为传统加密方式，适配各种连接器</span></span>
<span class="line"><span style="color:#F97583;">GRANT</span><span style="color:#E1E4E8;"> ALL </span><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> newuser_db.</span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TO</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;newuser&#39;</span><span style="color:#E1E4E8;">@</span><span style="color:#9ECBFF;">&#39;%&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">FLUSH PRIVILEGES;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">USER</span><span style="color:#24292E;"> &#39;</span><span style="color:#6F42C1;">newuser</span><span style="color:#24292E;">&#39;@</span><span style="color:#032F62;">&#39;%&#39;</span><span style="color:#24292E;"> IDENTIFIED </span><span style="color:#D73A49;">WITH</span><span style="color:#24292E;"> mysql_native_password </span><span style="color:#D73A49;">BY</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;password&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#6A737D;">-- mysql_native_password 为传统加密方式，适配各种连接器</span></span>
<span class="line"><span style="color:#D73A49;">GRANT</span><span style="color:#24292E;"> ALL </span><span style="color:#D73A49;">ON</span><span style="color:#24292E;"> newuser_db.</span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TO</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;newuser&#39;</span><span style="color:#24292E;">@</span><span style="color:#032F62;">&#39;%&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">FLUSH PRIVILEGES;</span></span></code></pre></div><h2 id="五、其他配置" tabindex="-1">五、其他配置 <a class="header-anchor" href="#五、其他配置" aria-label="Permalink to &quot;五、其他配置&quot;">​</a></h2><ol><li>设置SELinux为disabled，并生效</li><li>开启防火墙mysqld对应端口</li></ol><h2 id="六、忘记密码" tabindex="-1">六、忘记密码 <a class="header-anchor" href="#六、忘记密码" aria-label="Permalink to &quot;六、忘记密码&quot;">​</a></h2><h3 id="_1-设置skip-grant-tables" tabindex="-1">1. 设置skip-grant-tables <a class="header-anchor" href="#_1-设置skip-grant-tables" aria-label="Permalink to &quot;1. 设置skip-grant-tables&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">vi</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/etc/my.cnf</span></span>
<span class="line"><span style="color:#6A737D;"># 在 [mysqld] 段添加 skip-grant-tables，并重启mysql</span></span>
<span class="line"><span style="color:#B392F0;">systemctl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">restart</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysqld</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">vi</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/etc/my.cnf</span></span>
<span class="line"><span style="color:#6A737D;"># 在 [mysqld] 段添加 skip-grant-tables，并重启mysql</span></span>
<span class="line"><span style="color:#6F42C1;">systemctl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">restart</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysqld</span></span></code></pre></div><h3 id="_2-清空密码" tabindex="-1">2. 清空密码 <a class="header-anchor" href="#_2-清空密码" aria-label="Permalink to &quot;2. 清空密码&quot;">​</a></h3><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">USE</span><span style="color:#E1E4E8;"> mysql;</span></span>
<span class="line"><span style="color:#F97583;">UPDATE</span><span style="color:#E1E4E8;"> user </span><span style="color:#F97583;">SET</span><span style="color:#E1E4E8;"> authentication_string</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> user</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;root&#39;</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">USE</span><span style="color:#24292E;"> mysql;</span></span>
<span class="line"><span style="color:#D73A49;">UPDATE</span><span style="color:#24292E;"> user </span><span style="color:#D73A49;">SET</span><span style="color:#24292E;"> authentication_string</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> user</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;root&#39;</span><span style="color:#24292E;">;</span></span></code></pre></div><h3 id="_3-空密码登录" tabindex="-1">3. 空密码登录 <a class="header-anchor" href="#_3-空密码登录" aria-label="Permalink to &quot;3. 空密码登录&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">vi</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/etc/my.cnf</span></span>
<span class="line"><span style="color:#6A737D;"># 修改配置，注释刚刚添加的部分 # skip-grant-tables</span></span>
<span class="line"><span style="color:#6A737D;"># 重启MySQL</span></span>
<span class="line"><span style="color:#B392F0;">systemctl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">restart</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysqld</span></span>
<span class="line"><span style="color:#B392F0;">mysql</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-uroot</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-p</span></span>
<span class="line"><span style="color:#6A737D;"># 空密码进入 mysql 命令行后使用 ALTER USER 修改密码</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">vi</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/etc/my.cnf</span></span>
<span class="line"><span style="color:#6A737D;"># 修改配置，注释刚刚添加的部分 # skip-grant-tables</span></span>
<span class="line"><span style="color:#6A737D;"># 重启MySQL</span></span>
<span class="line"><span style="color:#6F42C1;">systemctl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">restart</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysqld</span></span>
<span class="line"><span style="color:#6F42C1;">mysql</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-uroot</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-p</span></span>
<span class="line"><span style="color:#6A737D;"># 空密码进入 mysql 命令行后使用 ALTER USER 修改密码</span></span></code></pre></div><h2 id="七、日常备份" tabindex="-1">七、日常备份 <a class="header-anchor" href="#七、日常备份" aria-label="Permalink to &quot;七、日常备份&quot;">​</a></h2><h3 id="_1-编写shell脚本-mysql-backup-sh" tabindex="-1">1. 编写Shell脚本：mysql-backup.sh <a class="header-anchor" href="#_1-编写shell脚本-mysql-backup-sh" aria-label="Permalink to &quot;1. 编写Shell脚本：mysql-backup.sh&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">#!/bin/bash</span></span>
<span class="line"><span style="color:#E1E4E8;">day</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">\`</span><span style="color:#B392F0;">date</span><span style="color:#9ECBFF;"> +%Y%m%d\`</span></span>
<span class="line"><span style="color:#E1E4E8;">dir</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">$HOME</span><span style="color:#9ECBFF;">/mysql-backup</span></span>
<span class="line"><span style="color:#B392F0;">find</span><span style="color:#E1E4E8;"> $dir </span><span style="color:#79B8FF;">-ctime</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">+7</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-type</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">f</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">xargs</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">rm</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-rf</span></span>
<span class="line"><span style="color:#B392F0;">mysqldump</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-B</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">sys</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-uroot</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-ppassword</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">gzip</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> $dir</span><span style="color:#9ECBFF;">/sys-</span><span style="color:#E1E4E8;">$day</span><span style="color:#9ECBFF;">.sql.gz</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#!/bin/bash</span></span>
<span class="line"><span style="color:#24292E;">day</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">\`</span><span style="color:#6F42C1;">date</span><span style="color:#032F62;"> +%Y%m%d\`</span></span>
<span class="line"><span style="color:#24292E;">dir</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">$HOME</span><span style="color:#032F62;">/mysql-backup</span></span>
<span class="line"><span style="color:#6F42C1;">find</span><span style="color:#24292E;"> $dir </span><span style="color:#005CC5;">-ctime</span><span style="color:#24292E;"> </span><span style="color:#032F62;">+7</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-type</span><span style="color:#24292E;"> </span><span style="color:#032F62;">f</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">xargs</span><span style="color:#24292E;"> </span><span style="color:#032F62;">rm</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-rf</span></span>
<span class="line"><span style="color:#6F42C1;">mysqldump</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-B</span><span style="color:#24292E;"> </span><span style="color:#032F62;">sys</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-uroot</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-ppassword</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">gzip</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> $dir</span><span style="color:#032F62;">/sys-</span><span style="color:#24292E;">$day</span><span style="color:#032F62;">.sql.gz</span></span></code></pre></div><h3 id="_2-赋予执行权限" tabindex="-1">2. 赋予执行权限 <a class="header-anchor" href="#_2-赋予执行权限" aria-label="Permalink to &quot;2. 赋予执行权限&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">chmod</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">+x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql-backup.sh</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">chmod</span><span style="color:#24292E;"> </span><span style="color:#032F62;">+x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql-backup.sh</span></span></code></pre></div><h3 id="_3-添加到-etc-crontab-每天3点钟执行备份" tabindex="-1">3. 添加到<code>/etc/crontab</code>，每天3点钟执行备份 <a class="header-anchor" href="#_3-添加到-etc-crontab-每天3点钟执行备份" aria-label="Permalink to &quot;3. 添加到\`/etc/crontab\`，每天3点钟执行备份&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">0 3 * * * bash /path/to/mysql-backup.sh</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">0 3 * * * bash /path/to/mysql-backup.sh</span></span></code></pre></div><h4 id="_4-重启crond生效" tabindex="-1">4. 重启crond生效 <a class="header-anchor" href="#_4-重启crond生效" aria-label="Permalink to &quot;4. 重启crond生效&quot;">​</a></h4><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">/etc/rc.d/init.d/crond</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">restart</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">/etc/rc.d/init.d/crond</span><span style="color:#24292E;"> </span><span style="color:#032F62;">restart</span></span></code></pre></div>`,28),e=[o];function t(c,r,y,E,i,d){return a(),l("div",null,e)}const u=s(p,[["render",t]]);export{h as __pageData,u as default};
